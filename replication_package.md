# Input Programs

# Prompts, die als Input genutzt wurden:
- Give me an IEC 61131-3 structured text program with two alarms represented by the variables xAlarm1 and xAlarm2. With the signal xAllOn all alarms should be set to TRUE. With the signal xAllOff all alarms should be set to FALSE. The signals should be turned off.
- Give me an IEC 61131-3 structured text program that calculates the binomial coefficient
- Give me an IEC 61131-3 structured text program that calculates a fibunacci number
- Give me an IEC 61131-3 structured text program of a fill level check. The fill level in a container should be monitored in three ranges: low, ok and high. Use one output each for low, ok and high. The fill level is read in via an analog value (0 - 32767) and should be should be converted internally to 0-100%. If the content falls below 1%, a warning horn should sound. Solve this application by using the CASE instruction.
- Give me an IEC 61131-3 structured text program of a Gate Controller. The variable One_Hour_Timer should start counting when Start_Loop is FALSE and it will time out after 1 hour of counting. If the timer timed out and the Gate is still open it should close. If it senses the app or the car and the Auth string matches my_defined_str the gate should open.
- Give me an IEC 61131-3 structured text program of a crane lift. Two conveyor belts (doConvTop, doConvBottom) transport crates to a lift. When the light barrier (diConvTop or diConvBottom) is activated, the corresponding conveyor belt stops and the lift is requested. If the lift has not yet been requested, it is moved to the corresponding position (doLiftTop, doLiftBottom). If the lift is in the requested position (diLiftTop, diLiftBottom), the lift conveyor belt (doConvLift) is switched on until the crate is completely at the lift (diBoxLift). The lift then moves to the unloading position (doLiftUnload). Once it has reached the position (diLiftUnload), the crate is the box is conveyed onto the unloading conveyor. When the box has left the lift, it is free for the next request.
- Give me an IEC 61131-3 structured text program of a crane. There are five load receptors on one crane. The load receptors are each connected to an analog input and provide values from 0 to 32767. To determine the total load and the average value, the individual loads must first be added together and divided by the number of load receptors. Solve the task using a FOR loop. As a result of the previous task, the sum of the individual loads could be calculated using a loop. So far, the variable declaration and the program code contain fixed numerical values. The purpose of this task is to replace as many fixed numerical values as possible from the declaration and program code with constants.
- Give me an IEC 61131-3 structured text program that implements the lambert w function.
- Give me an IEC 61131-3 structured text program that checks whether the int YEAR is a leap year or not.
- Give me an IEC 61131-3 structured text program that implements the sigmoid function.
- Give me an IEC 61131-3 structured text program that implements the sign function.
- Give me an IEC 61131-3 structured text program that implements the hyperbolic sine function with the uso of the exponential function.
- Give me an IEC 61131-3 structured text program that implements following function: A specific number is to be selected from a list of 100 numbers. The list contains random numbers. If the number 10 is found, the search is aborted. However, it is possible that the number does not exist in the list. Use the REPEAT and EXIT statements for the solution. Pay attention to the two abort conditions.
- Give me an IEC 61131-3 structured text function FC1001 with the following functionality. Depending on the constantly changing measured values of a sensor, an output should be switched on when a certain predeterminable switching value is exceeded and switched off when it falls below a certain predetermined switching value using a function FC 1001. In order to prevent possible switching back and forth (fluttering) at the switching value, a switching hysteresis in % of the switching value is specified at another function input. The measured values have the REAL data format thanks to a conversion function
- Give me an IEC 61131-3 structured text function FC1002 with the following functionality. An ultrasonic monitoring system detects all people and objects that approach the danger area in a three-dimensional protective field. If the ultrasonic sensor reports an approach, the horn P_HU emits an acoustic warning signal. If the perception of the person or object lasts longer than 3 seconds, the warning signal P_HU is switched off and an alarm P_AL is switched on. The monitoring system is switched on with the switch E_A and the switched on status is indicated with P1. To turn off the alarm, the monitoring system must be turned off using the E_A switch.
- Give me an IEC 61131-3 structured text program of a simple traffic light program with two two lights, north and east. Each light is represented with the Booleans North_green, North_yellow, North_red, East_green, East_yellow, East_red. This program should use a TON timer and a whole cycle is 10000ms long. Between 0ms and 5000ms the North light should be green and the East light red. After that for 500ms the North light turns yellow. Between 5500ms and 9500ms the North light is red while the East light is green. Between 9500ms and 10000ms the east light is yellow.
- Give me an IEC 61131-3 structured text program of a weather station. A temperature sensor measures the outside temperature. The temperature is read in via an analog input and should be displayed in text form in the house. 1) If the temperature is below 18°C, "Cold" should be displayed. 2) If the temperature is between 18°C and 25°, "Opt" (optimum) should be displayed. 3) If the temperature is above 25°C, "Hot" should be displayed. Solve this application by using IF, ELSIF and ELSE instructions. Evaluate the humidity as well as the temperature. The text "Opt" should only appear if the humidity is between 40 and 75% and the temperature is between 18 and 25°C, otherwise "Temp. OK" should be displayed. Solve the task with a nested IF statement.
- Give me an IEC 61131-3 structured text function FC1003 with the following functionality. A temperature sensor supplies values from 0 to 255 to a PLC digital input. These values correspond to a temperature of -20C to 40C, for example. Temperature values are to be used in the controller. For this purpose, a function FC 1003 is to be designed which converts the digital input floating point numbers from 0 to 255 into the temperature range from -20C to 40C. So that the range mapping can be used for any numerical range, the original range is to be defined by selectable lower limit (IN_MIN) and upper limit (IN_MAX) and the output range is also to be determined by specifying the lower limit (OUT_MIN) and upper limit (OUT_MAX).
- Give me an IEC 61131-3 structured text function block FB1005 with following functionality. When producing ceramic insulation panels, it must be checked after firing whether the thickness of the panel is within a specified tolerance band. To do this, the plates are pushed through a measuring point consisting of two lasers at a uniform speed. The thickness of the plates is determined from the difference between the measurements of the two lasers. For each measurement, the smallest and largest value of the plate thickness is recorded. If these are outside the tolerance band, the plate is considered scrap. A function block FB 1005 must be designed that checks the plate thickness, which results from the difference between the two laser measurements. During and after the measurement, the function block should output the largest (M_MAX) or smallest value (M_MIN) of the plate thickness. If the two values are outside the range specified with V_MAX and V_MIN, the reject light P1 is switched on. The measurement is started and ended with the sensor S1, which delivers a 1 signal as long as the ceramic plate is in the measuring device. At the start of a new measurement, the output values of the function block are overwritten with the values of the new measuring cycle. To test the function block FB 1005, sensor S1 is connected to the START input. A flag double word MD_1 is assigned to the THICKNESS function input. Any REAL numbers can be written to V-MAX and V_MIN. Flag double words are written to the output values D_MAX and D_MIN.
- Give me an IEC 61131-3 structured text program with an interlock functionality. The code has 2 inputs I1 and I2, which respectively switch the outputs Q1 and Q2. However, Q1 and Q2 are mutually locked so that only one output can be set to TRUE. The time TL determines a dead time between the two outputs. An output can only become TRUE if the other output was FALSE for at least the time TL.
- Give me an IEC 61131-3 structured text function block BURNER with following functionality. BURNER is a control interface for oil or gas burner operating at kilowatt hour meter and counter. The module controls a two-stage burner with optional fuel oil warming. The input IN is the control input that starts the burner only when the input OVER_TEMP is FALSE. OVER_TEMP is the boiler thermostat protection, which gets TRUE, if the boiler temperature has reached the maximum temperature. A burner start begins with the fuel oil warming, by PRE_HEAT gets TRUE. Then it waits for a signal at the input OIL_TEMP. If the signal OIL_TEMP is within the PRE_HEAT_TIME not TRUE and the oil temperature is not reached, the start sequence is interrupted and the output FAIL is set to TRUE. At the same time the error is spent at the Output STATUS. After fuel oil warming the motor gets on and sets the fan in operation. Then after a defned time the ignition is switched and the oil valve is opened. If no response of the fame sensor after specifed time (SAFETY_TIME), the module shows a failure. A fault is signaled even if the fame sensor responds before the ignition. If after a successful ignition, the fame breaks of and the set-variable MULTIPLE_IGNITION = TRUE, immediately a ignition is started. A second stage is activated automatically after the time STAGE2_DELAY when the input STAGE2 is TRUE. If a fault occurs, then the module is locked for a fxed time LOCKOUT_TIME and only after this time a RST can start the operation again. During the LOCKOUT_TIME, the RST Input must be FALSE. A TRUE at input OVER_TEMP stops immediately every action and reports the error 9. The status output indicates the current state of the module: 110 = Wait for Start signal ( Standby ); 111 = startup sequence is executed; 112 = burner runs on stage 1; 113 = burner runs at stage 2. A number of error conditions are provided at the output STATUS, if an error is present:1 = fuel oil warming has not responded within the PRE_HEAT_TIME; 2 = fame sensor is active during fuel oil warming (PRE_HEAT_TIME); 3 = fame sensor is active during the aeration period (PRE_VENTILATION_TIME); 4 = safety time ( Safety_Time) was passed without a fame; 5 = fame stops in operation; 9 = boiler overheating contact has tripped. Trace recording of a normal boot sequence: The signal IN starts the sequence with the output PRE_HEAT. After reaching the oil temperature (OIL_TEMP = TRUE), the engine started and the PRE_VENTILATION_TIME (time from engine start until oil valve is open) awaited. After an adjustable time (PPR_IGNITION_TIME) before opening the oil valve, the ignition is turned on. The ignition is then on until the POST_IGNITION_TIME has expired. The operating time per stage is measured independently in seconds.
- 
# Sources for prompts:
[A] Programmiersprache Strukturierter Text, https://telematika.kstu.kg/server/books/ger/automatisierungsps/9.pdf
[B] B&R Manual TM246, Strukturierter Text, https://www.sebastiandiers.de/wp-content/uploads/2021/09/TM246TRE.00-GER_Structured-Text-ST_V10812.pdf
[C] Oscat Library, https://openplc.discussion.community/post/oscat-basic-333-oscat-building-openplc-10284818
[D] Codesys Examples, https://forge.codesys.com/prj/codesys-example/home/Home/
[E] Oscat Library, https://openplc.discussion.community/post/collection-of-existing-programs-on-the-forum-11038773
[F] Youtube @ProfessorMurray, https://www.youtube.com/watch?v=v0BNkjjBex8&t=29s
